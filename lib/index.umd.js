(function(b,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus"],e):(b=typeof globalThis<"u"?globalThis:b||self,e(b["bsgoal-common"]={},b.Vue,b["element-plus"]))})(this,function(b,e,y){"use strict";var Dt=Object.defineProperty;var le=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable;var ae=(b,e,y)=>e in b?Dt(b,e,{enumerable:!0,configurable:!0,writable:!0,value:y}):b[e]=y,re=(b,e)=>{for(var y in e||(e={}))yt.call(e,y)&&ae(b,y,e[y]);if(le)for(var y of le(e))Ft.call(e,y)&&ae(b,y,e[y]);return b};const t={INPUT:"text",INPUT_NUMBER:"number",INPUT_TEXT_AREA:"textarea",SELECT:"select",SLIDER:"slider",SWITCH:"switch",RADIO:"radio",CHECKBOX:"checkbox",DATE:"date",WEEK:"week",MONTH:"month",YEAR:"year",DATE_RANGE:"daterange",MONTH_RANGE:"monthrange",TIME:"time",TIME_RANGE:"timerange",DATE_TIME:"datetime",DATE_TIME_RANGE:"datetimerange",OPERATION:"operation"};let q=null;const J=a=>{const d=[],r=[],i=(l=[])=>{const c=l.map(g=>g.width),h=Math.max(...c);l.forEach(g=>{const{labelEl:C}=g;C.style.width=`${h}px`})},u=()=>{if(a){const l=a.querySelectorAll(".el-form-item__label");if(l&&l.length){let c=0;l.forEach((h,g)=>{h.style.width="initial",h.style.whiteSpace="nowrap";const{x:C=0,width:V=0}=h.getBoundingClientRect(),T={x:C,width:V,labelEl:h};g===0&&(c=C),C===c?d.push(T):r.push(T)})}}};q&&clearTimeout(q),q=setTimeout(()=>{u(),i(d),i(r)},50)},Q={align:{created(a){window.addEventListener("resize",()=>{J(a)})},mounted(a){J(a)},unmounted(a){window.removeEventListener("resize",J(a))}},height:(a,{value:d=65,arg:r=""})=>{if(a){const{y:i=0}=a.getBoundingClientRect();a.style.height=`calc(100vh - ${i+d}px)`}}},Ot="",ce={class:"bsgoal-base-form"},se={class:"base_form"},ie={key:1},de=Object.assign({name:"BsgoalBaseForm"},{props:{configOptions:{type:[Array],default:()=>[]},medium:{type:[Number,String],default:24},values:{type:[Object],default:()=>({})}},emits:["on-form","on-clear","on-change","on-fold"],setup(a,{expose:d,emit:r}){const i=a,u=e.ref(null),l=Q.align,c=e.ref({});e.watchEffect(()=>{const{configOptions:p,values:f}=i,E=e.unref(p),_=e.unref(f);E.forEach(B=>{const{value:N="",prop:w="",type:x=""}=B;[t.INPUT,t.INPUT_TEXT_AREA].includes(x),c.value[w]=_[w]||N})});const h=e.computed(()=>{const{configOptions:p}=i;return e.unref(p).map(_=>{let{rules:B=!1,label:N=""}=_;const w={required:!0,message:`${N}不能为空`,trigger:"blur"};return B&&(typeof B=="boolean"?B=[w]:Array.isArray(B)?B=[w,...B]:B=[w,B]),_.rules=B,_})}),g=(p="",f="",E="")=>{if(!E)switch(p){case t.INPUT:case t.INPUT_TEXT_AREA:return`请输入${f}`;case t.SELECT:case t.DATE:case t.WEEK:case t.MONTH:case t.YEAR:case t.DATE_TIME:case t.TIME:return`请选择${f}`;case t.DATE_RANGE:case t.DATE_TIME_RANGE:return["开始日期","结束日期"];case t.TIME_RANGE:return["开始时间","结束时间"];case t.MONTH_RANGE:return["开始月份","结束月份"]}return E},C=(p="",f="")=>{if(!f)switch(p){case t.WEEK:return"ww";case t.DATE:case t.DATE_RANGE:return"YYYY-MM-DD";case t.MONTH:return"MM";case t.YEAR:return"YYYY";case t.MONTH_RANGE:return"YYYY-MM";case t.TIME:case t.TIME_RANGE:return"HH:mm:ss";case t.DATE_TIME:case t.DATE_TIME_RANGE:return"YYYY-MM-DD HH:mm:ss"}return f},V=()=>{const p=e.unref(c),{configOptions:f}=i,E=e.unref(f);for(const _ of E){const{type:B="",range:N=[],prop:w=""}=_;if(B.endsWith("range")&&N&&N.length===2){const{0:x="",1:F=""}=p[w],{0:$="",1:D=""}=N;p[$]=x,p[D]=F}}return r("on-form",p),p},T=()=>{u.value.resetFields(),r("on-clear",c.value)},k=(p,f)=>{const E={type:p,prop:f,value:c.value[f]||""};r("on-change",E)};return d({triggerOperationClear:T,triggerOperationForm:V,validateForm:(p=()=>{})=>{u.value.validate((f=!1,E={})=>{if(f){const _=V();p(_)}else{p(!1),console.log("field",E);const _=Object.keys(E)[0],{[_]:{0:{message:B=""}}}=E;y.ElMessage.error(B)}})}}),(p,f)=>{const E=e.resolveComponent("el-input"),_=e.resolveComponent("el-input-number"),B=e.resolveComponent("el-radio"),N=e.resolveComponent("el-radio-group"),w=e.resolveComponent("el-option"),x=e.resolveComponent("el-select"),F=e.resolveComponent("el-slider"),$=e.resolveComponent("el-switch"),D=e.resolveComponent("el-date-picker"),U=e.resolveComponent("el-time-picker"),z=e.resolveComponent("el-checkbox"),G=e.resolveComponent("el-checkbox-group"),Y=e.resolveComponent("el-form-item"),ee=e.resolveComponent("el-col"),te=e.resolveComponent("el-row"),oe=e.resolveComponent("el-form");return e.openBlock(),e.createElementBlock("div",ce,[e.createElementVNode("div",se,[e.withDirectives((e.openBlock(),e.createBlock(oe,{ref_key:"EL_FORM_REF",ref:u,"label-suffix":":",model:c.value},{default:e.withCtx(()=>[e.createVNode(te,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(h),({label:O="",prop:m="",type:n="text",placeholder:s="",readonly:S=!1,clearable:W=!0,rows:X=2,min:K=1,max:j=10,range:I=[],format:M="",rules:L=[]}={},H)=>(e.openBlock(),e.createBlock(ee,{key:H,xs:24,sm:24,md:a.medium},{default:e.withCtx(()=>[e.createVNode(Y,{label:O,prop:m,rules:L},{default:e.withCtx(()=>[S?(e.openBlock(),e.createElementBlock("div",ie,e.toDisplayString(c.value[m]),1)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n===e.unref(t).INPUT?(e.openBlock(),e.createBlock(E,{key:0,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,placeholder:g(n,O,s),clearable:W,onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):e.createCommentVNode("",!0),n===e.unref(t).INPUT_TEXT_AREA?(e.openBlock(),e.createBlock(E,{key:1,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,type:"textarea",rows:X,clearable:W,placeholder:g(n,O,s),onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","rows","clearable","placeholder","onChange"])):e.createCommentVNode("",!0),n===e.unref(t).INPUT_NUMBER?(e.openBlock(),e.createBlock(_,{key:2,modelValue:p.num,"onUpdate:modelValue":f[0]||(f[0]=o=>p.num=o),min:K,max:j,onChange:k},null,8,["modelValue","min","max"])):e.createCommentVNode("",!0),n===e.unref(t).RADIO?(e.openBlock(),e.createBlock(N,{key:3,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,onChange:o=>k(n,m)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I,(o,R)=>(e.openBlock(),e.createBlock(B,{key:R,label:o.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):e.createCommentVNode("",!0),n===e.unref(t).SELECT?(e.openBlock(),e.createBlock(x,{key:4,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,placeholder:g(n,O,s),onChange:o=>k(n,m)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I,(o,R)=>(e.openBlock(),e.createBlock(w,{key:R,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])):e.createCommentVNode("",!0),n===e.unref(t).SLIDER?(e.openBlock(),e.createBlock(F,{key:5,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,min:K,max:j,onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","min","max","onChange"])):e.createCommentVNode("",!0),n===e.unref(t).SWITCH?(e.openBlock(),e.createBlock($,{key:6,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,"active-value":I[0]||!0,"inactive-value":I[1]||!1,onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","active-value","inactive-value","onChange"])):e.createCommentVNode("",!0),[e.unref(t).DATE,e.unref(t).MONTH,e.unref(t).YEAR,e.unref(t).DATE_TIME].includes(n)?(e.openBlock(),e.createBlock(D,{key:7,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,format:C(n,M),"value-format":C(n,M),type:n,placeholder:g(n,O,s),onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","format","value-format","type","placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).DATE_RANGE,e.unref(t).MONTH_RANGE,e.unref(t).DATE_TIME_RANGE].includes(n)?(e.openBlock(),e.createBlock(D,{key:8,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,type:n,"value-format":C(n,M),"start-placeholder":g(n,O,s)[0],"end-placeholder":g(n,O,s)[1],onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","type","value-format","start-placeholder","end-placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).TIME].includes(n)?(e.openBlock(),e.createBlock(U,{key:9,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,"arrow-control":"","value-format":C(n,M),placeholder:g(n,O,s),onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","value-format","placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).TIME_RANGE].includes(n)?(e.openBlock(),e.createBlock(U,{key:10,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,"is-range":"","value-format":C(n,M),"start-placeholder":g(n,O,s)[0],"end-placeholder":g(n,O,s)[1],onChange:o=>k(n,m)},null,8,["modelValue","onUpdate:modelValue","value-format","start-placeholder","end-placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).CHECKBOX].includes(n)?(e.openBlock(),e.createBlock(G,{key:11,modelValue:c.value[m],"onUpdate:modelValue":o=>c.value[m]=o,onChange:o=>k(n,m)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I,(o,R)=>(e.openBlock(),e.createBlock(z,{key:R,label:o.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):e.createCommentVNode("",!0),[].includes(n)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:12},[],64)):e.createCommentVNode("",!0)],64))]),_:2},1032,["label","prop","rules"])]),_:2},1032,["md"]))),128))]),_:1})]),_:1},8,["model"])),[[e.unref(l)]])])])}}}),Mt="",ue={class:"bsgoal-base-table-content"},_e={class:"bas_tabl_content"},me=Object.assign({name:"BsgoalBaseTableContent"},{props:{data:{type:[String,Number,Object,Number,Boolean],default:""}},setup(a){return(d,r)=>(e.openBlock(),e.createElementBlock("div",ue,[e.createElementVNode("div",_e,e.toDisplayString(a.data),1)]))}});/*! Element Plus v2.3.3 */var fe={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};const Ut="",pe={class:"bsgoal-base-table-pagination"},he={class:"base_table_pagination"},ge=e.createElementVNode("span",null,"总数",-1),Ee=Object.assign({name:"BsgoalBaseTablePagination"},{props:{currentPage:{type:[Number],default:1},pageSizes:{type:[Array],default:()=>[10,20,30,40,50,100]},pageSize:{type:[Number],default:10},total:{type:[Number],default:0}},emits:["on-size-change","on-current-change"],setup(a,{emit:d}){const r=(l=0)=>{d("on-size-change",l)},i=(l=1)=>{d("on-current-change",l)},u=e.ref(1);return(l,c)=>{const h=e.resolveComponent("el-pagination"),g=e.resolveComponent("el-config-provider");return e.openBlock(),e.createElementBlock("div",pe,[e.createElementVNode("div",he,[e.createVNode(g,{locale:e.unref(fe)},{default:e.withCtx(()=>[e.createVNode(h,{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":u.value,"onUpdate:currentPage":c[0]||(c[0]=C=>u.value=C),"page-sizes":a.pageSizes,"page-size":a.pageSize,total:a.total,onSizeChange:r,onCurrentChange:i},{next:e.withCtx(()=>[ge]),_:1},8,["current-page","page-sizes","page-size","total"])]),_:1},8,["locale"])])])}}}),Be=(a=null,{expression:d=65,arg:r={}}={})=>{const i=e.unref(a);if(i){const u=i.querySelector(".el-table");u&&e.nextTick(()=>{const{y:l=0}=u.getBoundingClientRect();u.style.height=`calc(100vh - ${l+d}px)`})}},Z=(a=Promise.resolve(),d=null,r=e.ref(!1),i=e.ref(null))=>{const u=e.ref("");return r.value=!0,a.then((l={})=>{const{data:c={},message:h=""}=l;i.value=c,u.value=h,d&&d(!0,c),r.value=!1}).catch((l={})=>{if(typeof l=="object"){const{message:c=""}=l;u.value=c}else u.value=l;d(!1,l),r.value=!1}).finally(()=>{r.value=!1}),{data:i,message:u,loading:r}},Lt="",ke={class:"bsgoal-base-table"},Ce={class:"base_table"},Ve={key:0,class:"base_table_menu"},ne=Object.assign({name:"BsgoalBaseTable"},{props:{configOptions:{type:[Array],default:()=>[]},data:{type:[Array],default:()=>[]},selection:{type:[Boolean],default:!1},operation:{type:[Boolean],default:!1},operationWidth:{type:[String,Number],default:100},loading:{type:[Boolean],default:!1},fetch:{type:[Object,Function],default:null},call:{type:[Object,Function],default:null},mapProps:{type:[Object],default:()=>({currentPage:"currentPage",pageSize:"pageSize",rows:"rows",total:"total"})}},setup(a,{expose:d}){const r=a,i=e.computed(()=>{const{configOptions:_=[],operation:B=!1,operationWidth:N=0}=r,w=e.unref(_),x=[];return B&&x.push({label:"操作",fixed:"right",prop:"operation",width:N}),[...w,...x]}),u=e.ref(null),l=e.inject("transferFoldStatus");e.watchEffect(()=>{const _=l?l.value:!1;Be(u,{arg:_})});const c=e.ref(1),h=e.ref(10),g=e.ref(0),C=e.ref({}),V=e.ref(r.loading),T=e.ref(r.data),k=e.ref({}),A=()=>{const{fetch:_,call:B,mapProps:N}=r,w=C.value,x=c.value,F=h.value,$=re({},w),D=e.unref(N);$[D.currentPage]=x,$[D.pageSize]=F,Z(_($),B,V,k)};e.watch(k,_=>{const{mapProps:B}=r,N=e.unref(B);T.value=_[N.rows],g.value=_[N.total]});const p=(_={})=>{C.value=_,c.value=1,A()},f=(_=1)=>{c.value=_},E=(_=10)=>{h.value=_};return e.watch([c,h],()=>{A()}),d({refreshList:p}),(_,B)=>{const N=e.resolveComponent("el-table-column"),w=e.resolveComponent("el-table"),x=e.resolveDirective("loading");return e.openBlock(),e.createElementBlock("div",ke,[e.createElementVNode("div",Ce,[_.$slots.menu?(e.openBlock(),e.createElementBlock("div",Ve,[e.renderSlot(_.$slots,"menu")])):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"EL_TABLE_WRAP_REF",ref:u},[e.withDirectives((e.openBlock(),e.createBlock(w,{stripe:"",border:"","highlight-current-row":"",style:{width:"100%"},data:T.value,"header-cell-style":{fontWeight:"bold",backgroundColor:"#EBEEF5",color:"rgba(0,0,0,.85)",fontSize:"14px"}},{empty:e.withCtx(()=>[]),default:e.withCtx(()=>[a.selection?(e.openBlock(),e.createBlock(N,{key:0,fixed:"left",type:"selection",width:"40"})):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),({prop:F="",label:$="",align:D="center",width:U="",fixed:z=!1}={},G)=>(e.openBlock(),e.createBlock(N,{key:G,label:$,align:D,width:U,fixed:z,"min-width":`${$.length*14+24}px`},{default:e.withCtx(({row:Y})=>[e.renderSlot(_.$slots,F,{row:Y},()=>[e.createVNode(me,{data:Y[F]},null,8,["data"])])]),_:2},1032,["label","align","width","fixed","min-width"]))),128))]),_:3},8,["data","header-cell-style"])),[[x,V.value]])],512),e.createVNode(Ee,{total:g.value,onOnCurrentChange:f,onOnSizeChange:E},null,8,["total"])])])}}}),zt="",v=Object.assign({name:"BsgoalBaseLine"},{props:{vertical:{type:[Boolean],default:!1}},setup(a){return(d,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bsgoal-base-line",{"bsgoal-base-line__vertical":a.vertical}])},[e.createElementVNode("div",{class:e.normalizeClass(["base_line",{base_line__vertical:a.vertical}])},null,2)],2))}});/*! Element Plus Icons Vue v2.1.0 */var P=(a,d)=>{let r=a.__vccOpts||a;for(let[i,u]of d)r[i]=u;return r},Ne={name:"ArrowDown"},we={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Te=e.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),be=[Te];function xe(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",we,be)}var Ae=P(Ne,[["render",xe],["__file","arrow-down.vue"]]),$e={name:"ArrowLeft"},De={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ye=e.createElementVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Fe=[ye];function Oe(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",De,Fe)}var Se=P($e,[["render",Oe],["__file","arrow-left.vue"]]),Me={name:"ArrowRight"},Re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ue=e.createElementVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Ie=[Ue];function Le(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",Re,Ie)}var Pe=P(Me,[["render",Le],["__file","arrow-right.vue"]]),ze={name:"ArrowUp"},Ye={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},He=e.createElementVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Ge=[He];function je(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",Ye,Ge)}var We=P(ze,[["render",je],["__file","arrow-up.vue"]]),Xe={name:"Delete"},Ke={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qe=e.createElementVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),Je=[qe];function Qe(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",Ke,Je)}var Ze=P(Xe,[["render",Qe],["__file","delete.vue"]]),ve={name:"Search"},et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tt=e.createElementVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),ot=[tt];function nt(a,d,r,i,u,l){return e.openBlock(),e.createElementBlock("svg",et,ot)}var lt=P(ve,[["render",nt],["__file","search.vue"]]);const Ht="",Gt="",at=(a,d)=>{const r=a.__vccOpts||a;for(const[i,u]of d)r[i]=u;return r},rt={class:"bsgoal-base-search-operation"},ct=at(Object.assign({name:"BsgoalBaseSearchOperation"},{props:{fold:{type:[Boolean],default:!1}},emits:["on-fold"],setup(a,{emit:d}){const r=e.ref(!1),i=()=>{r.value=!e.unref(r),d("on-fold",r.value)};return(u,l)=>{const c=e.resolveComponent("el-button"),h=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",rt,[e.createVNode(c,{type:"primary",icon:e.unref(lt),onClick:l[0]||(l[0]=g=>u.$emit("on-search"))},{default:e.withCtx(()=>[e.createTextVNode("搜索")]),_:1},8,["icon"]),e.createVNode(c,{icon:e.unref(Ze),onClick:l[1]||(l[1]=g=>u.$emit("on-clear"))},{default:e.withCtx(()=>[e.createTextVNode("清空")]),_:1},8,["icon"]),a.fold?(e.openBlock(),e.createElementBlock("div",{key:0,class:"operation_fold",style:{color:"var(--el-color-primary)"},onClick:i},[e.createTextVNode(e.toDisplayString(r.value?"收起":"展开"),1),e.createVNode(h,{color:"#409EFC"},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(e.unref(We),null,null,512),[[e.vShow,r.value]]),e.withDirectives(e.createVNode(e.unref(Ae),null,null,512),[[e.vShow,!r.value]])]),_:1})])):e.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-b5796be8"]]),Xt="",st={class:"bsgoal-base-search"},it={class:"base_search"},dt={key:1},ut=Object.assign({name:"BsgoalBaseSearch"},{props:{configOptions:{type:[Array],default:()=>[]},medium:{type:[Number,String],default:6}},emits:["on-search","on-clear","on-change","on-fold"],setup(a,{emit:d}){const r=a,i=e.ref(null),u=Q.align,l=e.ref({});e.watchEffect(()=>{const{configOptions:f}=r;e.unref(f).forEach(_=>{const{value:B="",prop:N="",type:w=""}=_;[t.INPUT,t.INPUT_TEXT_AREA].includes(w),l.value[N]=B})});const c=e.computed(()=>{const{configOptions:f}=r,E=e.unref(f),_={type:t.OPERATION};return[...E,_]}),h=(f="",E="",_="")=>{if(!_)switch(f){case t.INPUT:case t.INPUT_TEXT_AREA:return`请输入${E}`;case t.SELECT:case t.DATE:case t.WEEK:case t.MONTH:case t.YEAR:case t.DATE_TIME:case t.TIME:return`请选择${E}`;case t.DATE_RANGE:case t.DATE_TIME_RANGE:return["开始日期","结束日期"];case t.TIME_RANGE:return["开始时间","结束时间"];case t.MONTH_RANGE:return["开始月份","结束月份"]}return _},g=(f="",E="")=>{if(!E)switch(f){case t.WEEK:return"ww";case t.DATE:case t.DATE_RANGE:return"YYYY-MM-DD";case t.MONTH:return"MM";case t.YEAR:return"YYYY";case t.MONTH_RANGE:return"YYYY-MM";case t.TIME:case t.TIME_RANGE:return"HH:mm:ss";case t.DATE_TIME:case t.DATE_TIME_RANGE:return"YYYY-MM-DD HH:mm:ss"}return E},C=()=>{const f=e.unref(l),{configOptions:E}=r,_=e.unref(E);for(const B of _){const{type:N="",range:w=[],prop:x=""}=B;if(N.endsWith("range")&&w&&w.length===2){const{0:F="",1:$=""}=f[x],{0:D="",1:U=""}=w;f[D]=F,f[U]=$}}d("on-search",f)};e.nextTick(()=>{C()});const V=()=>{i.value.resetFields(),d("on-clear",l.value)},T=e.inject("transferFoldStatus"),k=e.ref(!1),A=(f=!1)=>{k.value=f,T&&(T.value=f),d("on-fold",k)},p=(f,E)=>{C();const _={type:f,prop:E,value:l.value[E]||""};d("on-change",_)};return(f,E)=>{const _=e.resolveComponent("el-input"),B=e.resolveComponent("el-input-number"),N=e.resolveComponent("el-radio"),w=e.resolveComponent("el-radio-group"),x=e.resolveComponent("el-option"),F=e.resolveComponent("el-select"),$=e.resolveComponent("el-slider"),D=e.resolveComponent("el-switch"),U=e.resolveComponent("el-date-picker"),z=e.resolveComponent("el-time-picker"),G=e.resolveComponent("el-checkbox"),Y=e.resolveComponent("el-checkbox-group"),ee=e.resolveComponent("el-form-item"),te=e.resolveComponent("el-col"),oe=e.resolveComponent("el-row"),O=e.resolveComponent("el-form");return e.openBlock(),e.createElementBlock("div",st,[e.createElementVNode("div",it,[e.withDirectives((e.openBlock(),e.createBlock(O,{ref_key:"EL_FORM_REF",ref:i,"label-suffix":":","show-message":!1,model:l.value},{default:e.withCtx(()=>[e.createVNode(oe,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c),({label:m="",prop:n="",type:s="text",placeholder:S="",readonly:W=!1,clearable:X=!0,rows:K=2,min:j=1,max:I=10,range:M=[],format:L=""}={},H)=>e.withDirectives((e.openBlock(),e.createBlock(te,{key:H,xs:24,sm:12,md:a.medium},{default:e.withCtx(()=>[e.createVNode(ee,{label:m,prop:n},{default:e.withCtx(()=>[W?(e.openBlock(),e.createElementBlock("div",dt,e.toDisplayString(l.value[n]),1)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s===e.unref(t).INPUT?(e.openBlock(),e.createBlock(_,{key:0,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,placeholder:h(s,m,S),clearable:X,onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):e.createCommentVNode("",!0),s===e.unref(t).INPUT_TEXT_AREA?(e.openBlock(),e.createBlock(_,{key:1,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,type:"textarea",rows:K,clearable:X,placeholder:h(s,m,S),onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","rows","clearable","placeholder","onChange"])):e.createCommentVNode("",!0),s===e.unref(t).INPUT_NUMBER?(e.openBlock(),e.createBlock(B,{key:2,modelValue:f.num,"onUpdate:modelValue":E[0]||(E[0]=o=>f.num=o),min:j,max:I,onChange:p},null,8,["modelValue","min","max"])):e.createCommentVNode("",!0),s===e.unref(t).RADIO?(e.openBlock(),e.createBlock(w,{key:3,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,onChange:o=>p(s,n)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M,(o,R)=>(e.openBlock(),e.createBlock(N,{key:R,label:o.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):e.createCommentVNode("",!0),s===e.unref(t).SELECT?(e.openBlock(),e.createBlock(F,{key:4,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,placeholder:h(s,m,S),onChange:o=>p(s,n)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M,(o,R)=>(e.openBlock(),e.createBlock(x,{key:R,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])):e.createCommentVNode("",!0),s===e.unref(t).SLIDER?(e.openBlock(),e.createBlock($,{key:5,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,min:j,max:I,onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","min","max","onChange"])):e.createCommentVNode("",!0),s===e.unref(t).SWITCH?(e.openBlock(),e.createBlock(D,{key:6,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,"active-value":M[0]||!0,"inactive-value":M[1]||!1,onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","active-value","inactive-value","onChange"])):e.createCommentVNode("",!0),[e.unref(t).DATE,e.unref(t).MONTH,e.unref(t).YEAR,e.unref(t).DATE_TIME].includes(s)?(e.openBlock(),e.createBlock(U,{key:7,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,format:g(s,L),"value-format":g(s,L),type:s,placeholder:h(s,m,S),onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","format","value-format","type","placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).DATE_RANGE,e.unref(t).MONTH_RANGE,e.unref(t).DATE_TIME_RANGE].includes(s)?(e.openBlock(),e.createBlock(U,{key:8,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,type:s,"value-format":g(s,L),"start-placeholder":h(s,m,S)[0],"end-placeholder":h(s,m,S)[1],onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","type","value-format","start-placeholder","end-placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).TIME].includes(s)?(e.openBlock(),e.createBlock(z,{key:9,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,"arrow-control":"","value-format":g(s,L),placeholder:h(s,m,S),onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","value-format","placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).TIME_RANGE].includes(s)?(e.openBlock(),e.createBlock(z,{key:10,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,"is-range":"","value-format":g(s,L),"start-placeholder":h(s,m,S)[0],"end-placeholder":h(s,m,S)[1],onChange:o=>p(s,n)},null,8,["modelValue","onUpdate:modelValue","value-format","start-placeholder","end-placeholder","onChange"])):e.createCommentVNode("",!0),[e.unref(t).CHECKBOX].includes(s)?(e.openBlock(),e.createBlock(Y,{key:11,modelValue:l.value[n],"onUpdate:modelValue":o=>l.value[n]=o,onChange:o=>p(s,n)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M,(o,R)=>(e.openBlock(),e.createBlock(G,{key:R,label:o.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):e.createCommentVNode("",!0),[].includes(s)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:12},[],64)):e.createCommentVNode("",!0),[e.unref(t).OPERATION].includes(s)?(e.openBlock(),e.createBlock(ct,{key:13,fold:H>=7,onOnSearch:C,onOnClear:V,onOnFold:A},null,8,["fold"])):e.createCommentVNode("",!0)],64))]),_:2},1032,["label","prop"])]),_:2},1032,["md"])),[[e.vShow,H<7||s===e.unref(t).OPERATION||H>=7&&k.value]])),128))]),_:1})]),_:1},8,["model"])),[[e.unref(u)]])]),e.createVNode(v)])}}}),qt="",_t={class:"bsgoal-base-search-table"},mt={class:"base_search_table"},ft=Object.assign({name:"BsgoalBaseSearchTable"},{props:{configOptions:{type:[Array],default:()=>[]},tableData:{type:[Array],default:()=>[]},selection:{type:[Boolean],default:!1},operation:{type:[Boolean],default:!1},operationWidth:{type:[String,Number],default:100},fetch:{type:[Object,Function],default:null},call:{type:[Object,Function],default:null}},setup(a){const d=a,r=e.ref(!1);e.provide("transferFoldStatus",r);const i=e.unref(d.configOptions),u=e.computed(()=>i),l=e.computed(()=>i),c=e.useSlots(),h=e.ref(Object.keys(c)),g=e.ref(null),C=V=>{g.value.refreshList(V)};return(V,T)=>(e.openBlock(),e.createElementBlock("div",_t,[e.createElementVNode("div",mt,[e.createVNode(ut,{"config-options":e.unref(u),onOnSearch:C,onOnClear:C},null,8,["config-options"]),e.createVNode(ne,{ref_key:"BSGOAL_BASE_TABLE_REF",ref:g,operationWidth:a.operationWidth,"config-options":e.unref(l),data:a.tableData,selection:a.selection,operation:a.operation,fetch:a.fetch,call:a.call},e.createSlots({_:2},[e.renderList(h.value,k=>({name:k,fn:e.withCtx(({row:A={}})=>[e.renderSlot(V.$slots,k,{row:A})])}))]),1032,["operationWidth","config-options","data","selection","operation","fetch","call"])])]))}}),Qt="",pt={class:"bsgoal-base-tree-fold"},ht=Object.assign({name:"BsgoalBaseTreeFold"},{props:["modelValue"],emits:["update:modelValue"],setup(a,{emit:d}){let r=e.ref(!0);const i=()=>{r.value=!r.value,d("update:modelValue",r.value)};return(u,l)=>{const c=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",pt,[e.createElementVNode("div",{class:e.normalizeClass(["base_tree_fold",{"base_tree_fold--hide":!e.unref(r)}]),onClick:i},[e.createVNode(c,{color:"#fff"},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(e.unref(Se),null,null,512),[[e.vShow,e.unref(r)]]),e.withDirectives(e.createVNode(e.unref(Pe),null,null,512),[[e.vShow,!e.unref(r)]])]),_:1})],2)])}}}),vt="",gt={class:"bsgoal-base-tree"},Et={class:"base_tree"},Bt={class:"base_tree_main"},kt=Object.assign({name:"BsgoalBaseTree"},{props:{gasket:{type:[String,Number],default:10},data:{type:[Object,Array],default:()=>[]},treeProps:{type:[Object],default:()=>({label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",class:"class"})},lazyLoad:{type:[Function],default:()=>{}},initNode:{type:[Function],default:()=>{}}},emits:["on-click"],setup(a,{emit:d}){const r=a,i=Q.height,u=e.ref(""),l=e.ref(null);e.watch(u,V=>{l.value.filter(V)});const c=(V,T)=>V?T.label.includes(V):!0,h=e.ref(!0),g=(V,T,k,A)=>{d("on-click",V,T,k,A)},C=async(V,T,k)=>{if(V.level===0){const A=await k.initNode(V);return T(A||[])}else{const A=await k.lazyLoad(V);T(A||[])}};return(V,T)=>{const k=e.resolveComponent("el-input"),A=e.resolveComponent("el-tree");return e.openBlock(),e.createElementBlock("div",gt,[e.withDirectives((e.openBlock(),e.createElementBlock("div",Et,[e.withDirectives(e.createElementVNode("div",Bt,[e.createVNode(k,{modelValue:u.value,"onUpdate:modelValue":T[0]||(T[0]=p=>u.value=p),class:"base_tree_main_input",placeholder:"输入关键字过滤"},null,8,["modelValue"]),e.createVNode(A,{ref_key:"EL_TREE_REF",ref:l,lazy:"","highlight-current":"","empty-text":"暂无数据",load:(p,f)=>C(p,f,r),"expand-on-click-node":!1,props:a.treeProps,"filter-node-method":c,onNodeClick:g},null,8,["load","props"])],512),[[e.vShow,h.value]]),e.withDirectives(e.createVNode(v,{vertical:""},null,512),[[e.vShow,h.value]]),e.createVNode(ht,{modelValue:h.value,"onUpdate:modelValue":T[1]||(T[1]=p=>h.value=p)},null,8,["modelValue"])])),[[e.unref(i),a.gasket]])])}}}),to="",Ct={class:"bsgoal-base-dialog"},Vt={class:"base_dialog"},Nt={class:"base_dialog_header"},wt={class:"base_dialog_content"},Tt={class:"base_dialog_footer"},bt=Object.assign({name:"BsgoalBaseDialog"},{props:{modelValue:{type:[Boolean],default:!1},title:{type:[String],default:"标题"},cancelTxt:{type:[String],default:"取消"},confirmTxt:{type:[String],default:"确定"}},emits:["update:modelValue","on-confirm"],setup(a,{emit:d}){const r=a,i=e.ref(r.modelValue.value),u=()=>{i.value=!1},l=()=>{i.value=!1,d("on-confirm")};return e.watch(()=>r.modelValue,c=>{i.value=c}),e.watch(i,c=>{d("update:modelValue",c)}),(c,h)=>{const g=e.resolveComponent("el-button"),C=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock("div",Ct,[e.createElementVNode("div",Vt,[e.createVNode(C,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=V=>i.value=V),"custom-class":"bsgoal_base_dialog_main"},{header:e.withCtx(()=>[e.createElementVNode("div",Nt,e.toDisplayString(a.title),1)]),footer:e.withCtx(()=>[e.createElementVNode("span",Tt,[e.createVNode(g,{onClick:u},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.cancelTxt),1)]),_:1}),e.createVNode(g,{type:"primary",onClick:l},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.confirmTxt),1)]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("div",wt,[e.renderSlot(c.$slots,"default")])]),_:3},8,["modelValue"])])])}}}),xt=t,At=Z,$t={install(a,d={}){const{exclude:r=[]}=d,i={BsgoalBaseForm:de,BsgoalBaseTable:ne,BsgoalBaseLine:v,BsgoalBaseSearchTable:ft,BsgoalBaseTree:kt,BsgoalBaseDialog:bt};for(const[u,l]of Object.entries(i))r.includes(u)||a.component(u,l)},enumType:t,useFetch:Z};b.EnumType=xt,b.default=$t,b.useFetchApi=At,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
